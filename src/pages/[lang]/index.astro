---
// src/pages/[lang]/index.astro
import Layout from "../../layouts/Layout.astro";
import { dict, normalizeLang, languages } from "../../i18n";

export const prerender = true;
export function getStaticPaths() {
  return languages.map((lang) => ({ params: { lang } }));
}

const lang = normalizeLang(Astro.params.lang as string);
const t = dict[lang];
---

<Layout lang={lang} title={`Xiaosi Huang · ${t.nav.home}`}>
  <section class="mx-auto max-w-5xl px-4 md:px-6 py-10 md:py-16">

    <!-- kicker -->
    <p class="uppercase tracking-[0.22em] text-zinc-400 mb-5 text-sm font-medium">
      DATA PORTFOLIO
    </p>

    <!-- 主标题 -->
    <h1 class="text-pretty font-extrabold tracking-tight leading-tight break-anywhere
           text-3xl sm:text-4xl md:text-5xl">
      {t.home.line1}<br />
      <span class="text-blue-600">{t.home.line2}</span>
    </h1>

    <!-- 蓝色装饰线：视觉分隔，填补单行标题的空白感 -->
    <div class="hero-bar"></div>

    <!-- 描述文字 -->
    <p class="max-w-2xl text-pretty opacity-70 break-anywhere
              text-[15px] sm:text-[16px] md:text-[17px] leading-relaxed">
      {t.home.lead1}<br class="hidden sm:block" />{t.home.lead2}
    </p>

    <!-- 按钮 -->
    <div class="mt-7 flex flex-col sm:flex-row gap-2.5">
      <a href={(lang==='en'?'/en':'/'+lang) + '/projects'}
         class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl
                px-5 py-2.5 font-semibold bg-blue-600 text-white hover:bg-blue-700 transition-colors">
        {t.home.btnProjects}
      </a>
      <a href={(lang==='en'?'/en':'/'+lang) + '/about'}
         class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl
                px-5 py-2.5 font-semibold border border-zinc-300
                hover:bg-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-800 transition-colors">
        {t.home.btnAbout}
      </a>
    </div>

    <!-- 卡片 -->
    <div class="mt-10 grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">
      {t.home.cards.map((c) => (
        <div class="rounded-2xl border border-zinc-200/80 dark:border-zinc-800 p-5
                    hover:shadow-sm hover:border-zinc-300 dark:hover:border-zinc-700 transition-all">
          <div class="font-semibold mb-1.5 break-anywhere">{c.title}</div>
          <div class="opacity-60 text-[15px] break-anywhere leading-snug">{c.desc}</div>
        </div>
      ))}
    </div>

  </section>
</Layout>

<style>
  .hero-bar {
    width: 2.5rem;
    height: 3px;
    background: #2563eb;
    border-radius: 9999px;
    margin: 1.25rem 0 1rem 0;
  }
</style>