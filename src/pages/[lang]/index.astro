---
// src/pages/[lang]/index.astro
import Layout from "../../layouts/Layout.astro";
import { dict, normalizeLang, languages } from "../../i18n";

export const prerender = true;
export function getStaticPaths() {
  return languages.map((lang) => ({ params: { lang } }));
}

const lang = normalizeLang(Astro.params.lang as string);
const t = dict[lang];
---

<Layout lang={lang} title={`Xiaosi Huang Â· ${t.nav.home}`}>
  <section class="mx-auto max-w-5xl px-4 md:px-6 py-8">
    <p class="uppercase tracking-[0.22em] text-zinc-500 mb-4 text-sm">DATA PORTFOLIO</p>

    <h1 class="text-pretty font-extrabold tracking-tight leading-tight break-anywhere
               text-3xl sm:text-4xl md:text-5xl">
      {t.home.line1} <span class="text-blue-600">{t.home.line2}</span>
    </h1>

    <p class="mt-3 sm:mt-4 max-w-2xl text-pretty opacity-70 break-anywhere
              text-[15px] sm:text-[16px] md:text-[17px]">
      {t.home.lead1}<br class="hidden sm:block" />{t.home.lead2}
    </p>

    <div class="mt-6 flex flex-col sm:flex-row gap-2.5">
      <a href={(lang==='en'?'':'/'+lang) + '/projects'}
         class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl
                px-4 py-2.5 font-semibold bg-blue-600 text-white hover:bg-blue-700">
        {t.home.btnProjects}
      </a>
      <a href={(lang==='en'?'':'/'+lang) + '/about'}
         class="w-full sm:w-auto inline-flex items-center justify-center rounded-xl
                px-4 py-2.5 font-semibold border border-zinc-300
                hover:bg-zinc-100 dark:border-zinc-700 dark:hover:bg-zinc-800">
        {t.home.btnAbout}
      </a>
    </div>

    <div class="mt-8 grid grid-cols-1 md:grid-cols-3 gap-3 md:gap-4">
      {t.home.cards.map((c) => (
        <div class="rounded-2xl border border-zinc-200/80 dark:border-zinc-800 p-4">
          <div class="font-semibold mb-1 break-anywhere">{c.title}</div>
          <div class="opacity-70 text-[15px] break-anywhere">{c.desc}</div>
        </div>
      ))}
    </div>
  </section>
</Layout>
